# -*- coding: utf-8 -*-

from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import ContextTypes, CommandHandler
from config import ADMIN_USER_ID

# --- Ø´Ø±Ø­ ---
# Ù‚Ù…Ù†Ø§ Ø¨ØªØ­Ø¯ÙŠØ« Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù Ù„Ø¬Ø¹Ù„ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø£Ø¬Ù…Ù„ ÙˆØ£ÙƒØ«Ø± ØªÙ†Ø¸ÙŠÙ…Ø§Ù‹
# Ø§Ù„Ø¢Ù† Ù†Ø³ØªØ®Ø¯Ù… Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª ÙˆÙ†Ø±ØªØ¨ Ø§Ù„Ø£Ø²Ø±Ø§Ø± ÙÙŠ ØµÙÙˆÙ (ÙƒÙ„ ØµÙ Ø¨Ù‡ Ø²Ø±ÙŠÙ†)

# Ù‚Ø§Ø¦Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© ÙˆØ§Ù„Ù†Øµ Ù„ÙƒÙ„ Ø²Ø±
button_data = [
    ("âœï¸", "Ø§Ù„Ø±Ø¯ÙˆØ¯ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©"), ("ğŸ—“ï¸", "Ø§Ù„ØªØ°ÙƒÙŠØ±Ø§Øª"),
    ("ğŸ“¨", "Ù…Ù†Ø´ÙˆØ±Ø§Øª Ø§Ù„Ù‚Ù†Ø§Ø©"), ("ğŸ“º", "Ø§Ù„Ù‚Ù†ÙˆØ§Øª"),
    ("âš™ï¸", "Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù‚Ù†ÙˆØ§Øª"), ("ğŸš«", "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø¸Ø±"),
    ("ğŸ“¢", "Ù†Ø´Ø± Ù„Ù„Ø¬Ù…ÙŠØ¹"), ("ğŸ¨", "ØªØ®ØµÙŠØµ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©"),
    ("ğŸ›¡ï¸", "Ø§Ù„Ø­Ù…Ø§ÙŠØ© ÙˆØ§Ù„Ø£Ù…Ø§Ù†"), ("ğŸ—‘ï¸", "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø°Ø§ÙƒØ±Ø©"),
    ("ğŸ“Š", "Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª"), ("ğŸ“š", "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙƒØªØ¨Ø©"),
    ("ğŸ”—", "Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ø¥Ø¬Ø¨Ø§Ø±ÙŠ"), ("ğŸ–¥ï¸", "Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ù†Ø¸Ø§Ù…"),
    ("âœï¸", "ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù†ØµÙˆØµ")
]

async def admin_panel(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    """Ø¹Ø±Ø¶ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ù„Ù„Ù…Ø¯ÙŠØ± Ø¨ØªØµÙ…ÙŠÙ… Ø¬Ø¯ÙŠØ¯ ÙˆÙ…Ù†Ø¸Ù…."""
    user_id = update.effective_user.id

    if user_id != ADMIN_USER_ID:
        await update.message.reply_text("âš ï¸ Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø± Ù…Ø®ØµØµ Ù„Ù„Ù…Ø¯ÙŠØ± ÙÙ‚Ø·.")
        return

    keyboard = []
    row = []
    
    # Ø§Ù„Ù…Ø±ÙˆØ± Ø¹Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ù„Ø¥Ù†Ø´Ø§Ø¡ ØµÙÙˆÙ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ©
    for i, (icon, text) in enumerate(button_data, 1):
        # callback_data ÙŠØ¨Ù‚Ù‰ Ù…Ø±Ù‚Ù…Ø§Ù‹ Ù„ÙŠØ³Ù‡Ù„ Ø¹Ù„ÙŠÙ†Ø§ Ø¨Ø±Ù…Ø¬ØªÙ‡ Ù„Ø§Ø­Ù‚Ø§Ù‹
        callback = f'admin_panel_{str(i).zfill(2)}'
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø²Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ù…Ø¹ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø©
        button = InlineKeyboardButton(f"{icon} {text}", callback_data=callback)
        row.append(button)
        
        # Ø¥Ø°Ø§ Ø£ØµØ¨Ø­ Ø§Ù„ØµÙ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø²Ø±ÙŠÙ†ØŒ Ù‚Ù… Ø¨Ø¥Ø¶Ø§ÙØªÙ‡ Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… ÙˆØ§Ø¨Ø¯Ø£ ØµÙØ§Ù‹ Ø¬Ø¯ÙŠØ¯Ø§Ù‹
        if len(row) == 2:
            keyboard.append(row)
            row = []
    
    # Ø¥Ø°Ø§ ÙƒØ§Ù† Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø²Ø±Ø§Ø± ÙØ±Ø¯ÙŠØ§Ù‹ØŒ Ø§Ù„Ø²Ø± Ø§Ù„Ø£Ø®ÙŠØ± Ø³ÙŠØ¨Ù‚Ù‰ ÙÙŠ Ø§Ù„ØµÙ. Ù‚Ù… Ø¨Ø¥Ø¶Ø§ÙØªÙ‡.
    if row:
        keyboard.append(row)
        
    reply_markup = InlineKeyboardMarkup(keyboard)
    
    await update.message.reply_text("Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø¯ÙŠØ±:", reply_markup=reply_markup)

admin_handler = CommandHandler('admin', admin_panel)
